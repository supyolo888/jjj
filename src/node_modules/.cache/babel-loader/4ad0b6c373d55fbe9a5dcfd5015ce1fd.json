{"ast":null,"code":"var playbtn = document.querySelectorAll('.playbtn');\nvar video = document.querySelectorAll('.video');\nvar play = document.querySelectorAll('.play');\n\nvar _loop = function _loop(i) {\n  playbtn[i].onclick = function () {\n    if (video[i].paused) {\n      video[i].play();\n      play[i].classList.add(\"none\");\n    } else {\n      video[i].pause();\n      play[i].classList.remove(\"none\");\n    }\n  };\n};\n\nfor (var i = 0; i < video.length; i++) {\n  _loop(i);\n}\n\n;\nvar ytPlayer = [];\nvar ytPlaying, ytStop, ytPlay;\n\nfunction onPlayerStateChange(event) {\n  // 各プレーヤーの状態を確認\n  for (var i = 0; i < video.length; i++) {\n    var thisState = video[i].getPlayerState();\n\n    if (!video[i].paused && ytPlaying == undefined) {\n      ytPlaying = i;\n    } else if (!video[i].paused && ytPlaying != i) {\n      ytStop = ytPlaying;\n      ytPlay = i;\n    } else {}\n  } // 同時再生があった場合、元々再生していた方を停止する\n\n\n  if (ytStop != undefined) {\n    ytPlayer[ytStop].pauseVideo();\n    ytStop = undefined;\n  } // 現在再生中のプレーヤー番号を保存しておく\n\n\n  if (ytPlay != undefined) {\n    ytPlaying = ytPlay;\n    ytPlay = undefined;\n  }\n}","map":{"version":3,"sources":["/app/app/javascript/micropost/video.js"],"names":["playbtn","document","querySelectorAll","video","play","i","onclick","paused","classList","add","pause","remove","length","ytPlayer","ytPlaying","ytStop","ytPlay","onPlayerStateChange","event","thisState","getPlayerState","undefined","pauseVideo"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAd;AACA,IAAIC,KAAK,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,CAAZ;AACA,IAAIE,IAAI,GAAGH,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAX;;2BAESG,C;AACPL,EAAAA,OAAO,CAACK,CAAD,CAAP,CAAWC,OAAX,GAAqB,YAAW;AAC9B,QAAIH,KAAK,CAACE,CAAD,CAAL,CAASE,MAAb,EAAqB;AACjBJ,MAAAA,KAAK,CAACE,CAAD,CAAL,CAASD,IAAT;AACAA,MAAAA,IAAI,CAACC,CAAD,CAAJ,CAAQG,SAAR,CAAkBC,GAAlB,CAAsB,MAAtB;AACH,KAHD,MAGO;AACHN,MAAAA,KAAK,CAACE,CAAD,CAAL,CAASK,KAAT;AACAN,MAAAA,IAAI,CAACC,CAAD,CAAJ,CAAQG,SAAR,CAAkBG,MAAlB,CAAyB,MAAzB;AACH;AACF,GARD;;;AADF,KAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACS,MAA1B,EAAkCP,CAAC,EAAnC,EAAuC;AAAA,QAA9BA,CAA8B;AAUtC;;AAAA;AAED,IAAIQ,QAAQ,GAAG,EAAf;AACA,IAAIC,SAAJ,EAAeC,MAAf,EAAuBC,MAAvB;;AACA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC;AACA,OAAI,IAAIb,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,KAAK,CAACS,MAAzB,EAAiCP,CAAC,EAAlC,EAAsC;AAClC,QAAIc,SAAS,GAAGhB,KAAK,CAACE,CAAD,CAAL,CAASe,cAAT,EAAhB;;AACA,QAAI,CAACjB,KAAK,CAACE,CAAD,CAAL,CAASE,MAAV,IAAoBO,SAAS,IAAIO,SAArC,EAAgD;AAC5CP,MAAAA,SAAS,GAAGT,CAAZ;AACH,KAFD,MAEO,IAAG,CAACF,KAAK,CAACE,CAAD,CAAL,CAASE,MAAV,IAAoBO,SAAS,IAAIT,CAApC,EAAuC;AAC1CU,MAAAA,MAAM,GAAGD,SAAT;AACAE,MAAAA,MAAM,GAAGX,CAAT;AACH,KAHM,MAGA,CACN;AACJ,GAXiC,CAYlC;;;AACA,MAAGU,MAAM,IAAIM,SAAb,EAAwB;AACpBR,IAAAA,QAAQ,CAACE,MAAD,CAAR,CAAiBO,UAAjB;AACAP,IAAAA,MAAM,GAAGM,SAAT;AACH,GAhBiC,CAiBlC;;;AACA,MAAGL,MAAM,IAAIK,SAAb,EAAwB;AACpBP,IAAAA,SAAS,GAAGE,MAAZ;AACAA,IAAAA,MAAM,GAAGK,SAAT;AACH;AACF","sourcesContent":["var playbtn = document.querySelectorAll('.playbtn');\nvar video = document.querySelectorAll('.video');\nvar play = document.querySelectorAll('.play');\n\nfor (let i = 0; i < video.length; i++) {\n  playbtn[i].onclick = function() {\n    if (video[i].paused) {\n        video[i].play();\n        play[i].classList.add(\"none\");\n    } else {\n        video[i].pause();\n        play[i].classList.remove(\"none\");\n    }\n  };\n};\n\nvar ytPlayer = [];\nvar ytPlaying, ytStop, ytPlay;\nfunction onPlayerStateChange(event) {\n  // 各プレーヤーの状態を確認\n  for(var i = 0; i < video.length; i++) {\n      var thisState = video[i].getPlayerState();\n      if( !video[i].paused && ytPlaying == undefined) {\n          ytPlaying = i;\n      } else if(!video[i].paused && ytPlaying != i) {\n          ytStop = ytPlaying;\n          ytPlay = i;\n      } else {\n      }\n  }\n  // 同時再生があった場合、元々再生していた方を停止する\n  if(ytStop != undefined) {\n      ytPlayer[ytStop].pauseVideo();\n      ytStop = undefined;\n  }\n  // 現在再生中のプレーヤー番号を保存しておく\n  if(ytPlay != undefined) {\n      ytPlaying = ytPlay;\n      ytPlay = undefined;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}